<p id="notice"><%= notice %></p>
<div style="display: flex; align-items: center;">
  <%= link_to "＜", chats_path, class: "back-button", style: "margin-right: 10px;" "font-size: 30px;" %>
  <h1>グループ参加</h1>
</div>

    <%= form_tag(groups_path,method: :get) do %>
      
      <%= text_field_tag "search[keyword]",nil,placeholder: "🔍 検索",class: "form-control" %>
    <% end %>
    
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
<script src="https://cdn.jsdelivr.net/npm//swiper@11/swiper-bundle.min.js"></script>

<div class="swiper-container">
<div class="swiper">
  <div class="swiper-wrapper">
    <% @select_categories.each do |category| %>
      <div class="swiper-slide">        
        <%= link_to image_tag(url_for(image_of_categories_path(category.category_id)),size:'100x100'), groups_path(selectedcategory:category.category_id) %>
        <%# image_tag(url_for(image_of_categories_path(category.category_id)),size: "100x100")%></div> 
    <% end %>
    </div>
  </div>
  <div class="swiper-button-prev"></div>
  <div class="swiper-button-next"></div>
  </div>

  <script>
  const swiper = new Swiper('.swiper',{
    direction: 'horizontal',
    loop: true,
    centeredSlides: true,
    slidesPerView:4.8,
    spaceBetween: 30,
    navigation:{
      nextEl:'.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
  });
  </script>

  <style>
  .swiper-container{
    margin-inline:auto;
    width: auto;
    position: relative;
  }
  .swiper {
    max-width: 80%
  }
  /*前への矢印*/
  .swiper-button-prev{
    left: -30px;
  }
  /*次への矢印*/
  swiper-button-next{
    right: -30px;
  }
  </style>
   
<table>
  <thead>
    <tr>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @groups.each do |group| %>
      <tr>
        <td><%= link_to image_tag(url_for(image_of_groups_path(group)),size:'70x70'), group %></td> 
        <td><%= link_to group.name,group %></td>
        <td><%= group.introduction %></td>
        
        <%# <td><%= link_to 'Edit', edit_group_path(group) %><%# </td>
        <td><%= link_to 'Destroy', group, method: :delete, data: { confirm: 'Are you sure?' } %><%# </td>
        <td><%= link_to 'Show', group %><%# </td>%>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
<%= link_to '新しいグループを作成', new_group_path, class: 'right-align' %>

<style>
.right-align {
  float: right;
  display: inline-block;
  border: solid 2px;
}

<%= link_to '新しいグループを作成', new_group_path %>
</style>
